# 8. 쿠키 vs. 세션 vs. 웹 스토리지 (로컬, 세션 스토리지)

## 🔖 쿠키

|      | 쿠키                                                                                            |
| ---- | ----------------------------------------------------------------------------------------------- |
|      | - 만료 기한이 있는 Key, Value 형태의 저장소                                                     |
| 장점 | 대부분의 브라우저가 지원                                                                        |
| 단점 | - 매 HTTP 요청마다 포함되어 api 호출로 서버 부담 (HTTP 프로토콜이 stateless한 특성이 있기 때문) |

- 용량 작음 (약 4KB)
- 암호화 존재 x |
  | 활용 | - 다시 보지 않음 팝업 창 |

1. Session Cookie
   - 만료일 포함 x
   - 브라우저가 열려 있을 동안에만 저장. 브라우저 닫으면 삭제됨
2. Persistent Cookie
   - 만료일 포함
   - 브라우저를 닫아도 사용자의 컴퓨터에 저장이 되어있으며, 만료일이 지나면 삭제됨

## 🔖 **세션**

- HTTP 세션의 경우, 데이터를 사용자 브라우저의 쿠키가 아닌 접속한 서버의 DB에 정보를 저장한다.
- 세션의 경우 메모리에 저장하기 때문에 브라우저가 종료되면 사라진다.
- 세션은 서버의 리소스를 사용하기 때문에 세션을 많이 쓸 경우 서버에 부하가 생기게 될 수 있다.
- 세션은 사용자 인증, 로그인에 많이 쓰시는데 서비스가 확장되어 유저의 수가 너무 늘어날 경우에는 서버 과부화를 유의해야한다.

## 🔖 웹 스토리지 (로컬, 세션 스토리지)

|                                      | 로컬 스토리지                                | 세션 스토리지        |
| ------------------------------------ | -------------------------------------------- | -------------------- |
|                                      | - 문자열 데이터만 저장 가능                  |
| - 브라우저 창을 닫더라도 데이터 유지 | - 브라우저 창을 닫으면 데이터가 날아감       |
| 장점                                 | - 서버에 불필요한 데이터를 저장하지 않는다.  |
| - 용량이 크다 (약 5MB)               |                                              |
| 단점                                 | - HTML5를 지원하지 않는 브라우저는 사용 불가 | 로컬 스토리지와 같음 |
| 활용                                 | - 자동 로그인 등                             |
| - 다크 라이트 모드                   | - 입력 폼 저장                               |

- 일회성 로그인 등
- 상세페이지 목록 페이지로 이동할때 스크롤 위치 값 |
- 쿠키의 단점을 보완해 HTML5에서 '웹스토리지'라는 기술 탄생.
- 웹스토리지
  - 로컬스토리지, 세션스토리지
  - Key와 Value 형태로 이루어짐
  - 클라이언트에 대한 정보를 저장
  - 로컬에만 정보를 저장 (쿠키는 서버와 로컬에 정보를 저장)

---

[ 참고: [https://codepen.io/beaucarnes/pen/KmeRMx?editors=0010](https://codepen.io/beaucarnes/pen/KmeRMx?editors=0010) ]
